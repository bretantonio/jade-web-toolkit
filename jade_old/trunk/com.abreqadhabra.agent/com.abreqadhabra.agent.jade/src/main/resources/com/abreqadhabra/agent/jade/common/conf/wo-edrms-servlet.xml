<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context" xmlns:p="http://www.springframework.org/schema/p"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context-2.5.xsd">

	<bean
		class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping">
		<property name="alwaysUseFullPath" value="true" />
	</bean>
	<!--
		MultipartResolver for parsing file uploads, implementation for Commons
		FileUpload
	-->
	<bean id="multipartResolver"
		class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
		<property name="maxUploadSize" value="31457280" />
		<property name="defaultEncoding" value="UTF-8" />
	</bean>


	<context:component-scan
		base-package="com.idstrust.wiseone.engine.edrms.web.controller">
		<context:include-filter type="regex"
			expression="com\.idstrust\.wiseone\.engine\.edrms\.web\.controller.*" />
	</context:component-scan>

	<bean id="fileUploadController"
		class="com.idstrust.wiseone.engine.edrms.web.controller.FileUploadController">
		<property name="edrmsSuiteService" ref="edrmsSuiteService" />
		
	</bean>

	<!--
		HandlerMapping that dispatches all request to the
		MultiActionController below <bean id="handlerMapping"
		class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="defaultHandler" ref="fileUploadController" /> </bean>
	-->
	<!--
		MultiActionController that defines user interface actions as separate
		methods <bean id="fileUploadController"
		class="com.idstrust.wiseone.engine.edrms.web.spring.controller.FileUploadController">
		<property name="methodNameResolver"> <bean
		class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
		<property name="mappings"> <props> <prop
		key="/uploadFile.edrms">uploadFile</prop> <prop
		key="/uploadFileConversion.edrms">uploadFileConversion</prop> </props>
		</property> </bean> </property> <property name="commandClass"
		value="com.idstrust.wiseone.engine.edrms.web.bean.FileUploadBean" />
		</bean> <bean id="handlerMapping"
		class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="mappings"> <props> <prop
		key="/servlet/uploadFile.edrms">fileUploadController</prop> </props>
		</property> </bean> <bean id="fileUploadController"
		class="com.idstrust.wiseone.engine.edrms.web.spring.controller.FileUploadController">
		<property name="commandClass"
		value="com.idstrust.wiseone.engine.edrms.web.bean.FileUploadBean"/>
		</bean>
	-->
</beans>